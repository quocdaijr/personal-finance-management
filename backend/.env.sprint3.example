# Sprint 3: Real-time Features & Notifications
# Copy this file to .env and fill in your values

# ==========================================
# WebSocket Configuration
# ==========================================
WS_PING_INTERVAL=30s
WS_PONG_WAIT=60s
WS_MAX_MESSAGE_SIZE=512
WS_WRITE_WAIT=10s

# ==========================================
# Firebase Cloud Messaging (FCM) - Android & Web Push
# ==========================================
# Get these from Firebase Console: https://console.firebase.google.com
FCM_SERVER_KEY=your-fcm-server-key-here
FCM_SENDER_ID=your-sender-id-here
FCM_PROJECT_ID=your-project-id-here
FCM_SERVICE_ACCOUNT_KEY_PATH=/path/to/serviceAccountKey.json

# ==========================================
# Apple Push Notification Service (APNS) - iOS
# ==========================================
# Get these from Apple Developer Console: https://developer.apple.com
APNS_KEY_PATH=/path/to/apns-auth-key.p8
APNS_KEY_ID=your-apns-key-id
APNS_TEAM_ID=your-apple-team-id
APNS_TOPIC=com.yourcompany.finance-app
APNS_ENVIRONMENT=development  # development or production

# ==========================================
# Notification Settings
# ==========================================
NOTIFICATION_BATCH_SIZE=100
NOTIFICATION_RETRY_ATTEMPTS=3
NOTIFICATION_RETRY_DELAY=5s
NOTIFICATION_QUEUE_SIZE=1000

# Email Digest Settings
EMAIL_DIGEST_DAILY_TIME=08:00  # UTC time for daily digest
EMAIL_DIGEST_WEEKLY_DAY=monday # Day of week for weekly digest
EMAIL_DIGEST_MONTHLY_DAY=1     # Day of month for monthly digest

# ==========================================
# Activity Feed Settings
# ==========================================
ACTIVITY_FEED_PAGE_SIZE=20
ACTIVITY_FEED_MAX_EVENTS=1000  # Max events to keep per user

# ==========================================
# Budget Alert Thresholds
# ==========================================
BUDGET_ALERT_THRESHOLD_50=true
BUDGET_ALERT_THRESHOLD_75=true
BUDGET_ALERT_THRESHOLD_90=true
BUDGET_ALERT_PREDICTIVE=true

# ==========================================
# Real-time Analytics Settings
# ==========================================
ANALYTICS_UPDATE_INTERVAL=30s  # How often to calculate and broadcast analytics
ANALYTICS_CACHE_TTL=60s        # Time to live for analytics cache

# ==========================================
# Existing Configuration (keep from original .env)
# ==========================================
# Database
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=postgres
DB_NAME=finance-management
DB_SSLMODE=disable
USE_SQLITE=false

# JWT Secrets
JWT_SECRET=your-secret-key-change-in-production
JWT_REFRESH_SECRET=your-refresh-secret-change-in-production
JWT_EXPIRY_HOURS=24

# Application
APP_NAME=Finance Management
ENVIRONMENT=development
BASE_URL=http://localhost:3000
PORT=8080

# SendGrid (Email)
SENDGRID_API_KEY=your-sendgrid-api-key
SENDGRID_FROM_EMAIL=noreply@finance-app.com
SENDGRID_FROM_NAME=Finance App

# ==========================================
# Development vs Production
# ==========================================
# Development: Set ENVIRONMENT=development
#   - Uses console logging for emails
#   - APNS uses sandbox
#   - Reduced notification throttling
#
# Production: Set ENVIRONMENT=production
#   - Uses SendGrid for emails
#   - APNS uses production servers
#   - Enforces notification rate limits
